$(function(){function t(t,e){var r=d3.select(t),n={top:0,right:0,bottom:0,left:40},d=r.node().getBoundingClientRect().width-n.left-n.right,e=e-n.top-n.bottom-5,a=r.append("svg"),o=a.attr("width",d+n.left+n.right).attr("height",e+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),l=d3.layout.cluster().size([e,d-180]),s=d3.svg.diagonal().projection(function(t){return[t.y,t.x]});d3.json("assets/demo_data/d3/tree/tree_data_dendrogram.json",function(t,i){function c(){d=r.node().getBoundingClientRect().width-n.left-n.right,f=l.nodes(i),p=l.links(f),a.attr("width",d+n.left+n.right),o.attr("width",d+n.left+n.right),l.size([e,d-180]),o.selectAll(".d3-tree-link").attr("d",s),o.selectAll(".d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"})}var f=l.nodes(i),p=l.links(f),g=o.append("g").attr("class","d3-tree-link-group"),u=g.selectAll(".d3-tree-link").data(p).enter().append("path").attr("class","d3-tree-link").style("fill","none").style("stroke","#ddd").style("stroke-width",1.5).attr("d",s),h=o.append("g").attr("class","d3-tree-node-group"),y=h.selectAll(".d3-tree-node").data(f).enter().append("g").attr("class","d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"});y.append("circle").style("fill","#fff").style("stroke","#0079bd").style("stroke-width",1.5).attr("r",4.5);var k=y.append("text").attr("dx",function(t){return t.children?-10:10}).attr("dy",4).style("text-anchor",function(t){return t.children?"end":"start"}).style("font-size",12).style("background-color","#fff").text(function(t){return t.name});$(window).on("resize",c),$(".sidebar-control").on("click",c)})}t("#d3-tree-dendrogram",800)});